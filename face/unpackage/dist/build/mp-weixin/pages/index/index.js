(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"53e2":function(e,t,n){"use strict";var o=n("e9fc"),a=n.n(o);a.a},"543d":function(e,t,n){"use strict";n.r(t);const o=Object.prototype.toString,a=Object.prototype.hasOwnProperty;function r(e){return"function"===typeof e}function i(e){return"string"===typeof e}function c(e){return"[object Object]"===o.call(e)}function s(e,t){return a.call(e,t)}const u=/hideKeyboard|upx2px|canIUse|^create|Sync$|Manager$/,f=/^create|Manager$/,l=/^on/;function h(e){return f.test(e)}function d(e){return u.test(e)}function p(e){return l.test(e)}function v(e){return e.then(e=>{return[null,e]}).catch(e=>[e])}function m(e){return!d(e)&&!p(e)}function g(e,t){return m(e)?function(e={},...n){return r(e.success)||r(e.fail)||r(e.complete)?t(e,...n):v(new Promise((o,a)=>{t(Object.assign({},e,{success:o,fail:a}),...n),Promise.prototype.finally=function(e){const t=this.constructor;return this.then(n=>t.resolve(e()).then(()=>n),n=>t.resolve(e()).then(()=>{throw n}))}}))}:t}const b=1e-4,w=750;let _=!1,y=0,x=0;function $(){const{platform:e,pixelRatio:t,windowWidth:n}=wx.getSystemInfoSync();y=n,x=t,_="ios"===e}function P(e,t){if(0===y&&$(),e=Number(e),0===e)return 0;let n=e/w*(t||y);return n<0&&(n=-n),n=Math.floor(n+b),0===n?1!==x&&_?.5:1:e<0?-n:n}var k={};const I=["success","fail","cancel","complete"];function S(e,t,n){return function(o){return t(B(e,o,n))}}function j(e,t,n={},o={},a=!1){if(c(t)){const u=!0===a?t:{};r(n)&&(n=n(t,u)||{});for(let f in t)if(s(n,f)){let o=n[f];r(o)&&(o=o(t[f],t,u)),o?i(o)?u[o]=t[f]:c(o)&&(u[o.name?o.name:f]=o.value):console.warn(`微信小程序 ${e}暂不支持${f}`)}else I.includes(f)?u[f]=S(e,t[f],o):a||(u[f]=t[f]);return u}return r(t)&&(t=S(e,t,o)),t}function B(e,t,n,o=!1){return r(k.returnValue)&&(t=k.returnValue(e,t)),j(e,t,n,{},o)}function M(e,t){if(s(k,e)){const t=k[e];return t?function(n,o){let a=t;r(t)&&(a=t(n)),n=j(e,n,a.args,a.returnValue);const i=wx[a.name||e](n,o);return d(e)?B(e,i,a.returnValue,h(e)):i}:function(){console.error(`微信小程序 暂不支持${e}`)}}return t}const O=Object.create(null),C=["subscribePush","unsubscribePush","onPush","offPush","share"];function N(e){return function({fail:t,complete:n}){const o={errMsg:`${e}:fail:暂不支持 ${e} 方法`};r(t)&&t(o),r(n)&&n(o)}}C.forEach(function(e){O[e]=N(e)});var T={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};function E({service:e,success:t,fail:n,complete:o}){let a=!1;T[e]?(a={errMsg:"getProvider:ok",service:e,provider:T[e]},r(t)&&t(a)):(a={errMsg:"getProvider:fail:服务["+e+"]不存在"},r(n)&&n(a)),r(o)&&o(a)}var V=Object.freeze({getProvider:E}),A=Object.freeze({});let W={};"undefined"!==typeof Proxy?W=new Proxy({},{get(e,t){return"upx2px"===t?P:A[t]?g(t,A[t]):V[t]?g(t,V[t]):O[t]?g(t,O[t]):s(wx,t)||s(k,t)?g(t,M(t,wx[t])):void 0}}):(W.upx2px=P,Object.keys(O).forEach(e=>{W[e]=g(e,O[e])}),Object.keys(V).forEach(e=>{W[e]=g(e,O[e])}),Object.keys(A).forEach(e=>{W[e]=g(e,A[e])}),Object.keys(wx).forEach(e=>{(s(wx,e)||s(k,e))&&(W[e]=g(e,M(e,wx[e])))}));var R=W;t["default"]=R},b0ce:function(e,t,n){"use strict";n.r(t);var o=n("f3d3"),a=n.n(o);function r(e,t,n){var o,a=e.$options[t];if("onError"===t&&a&&(a=[a]),"function"===typeof a&&(a=[a]),a)for(var i=0,c=a.length;i<c;i++)o=a[i].call(e,n);return e._hasHookEvent&&e.$emit("hook:"+t),e.$children.length&&e.$children.forEach(function(e){return r(e,t,n)}),o}function i(e){return e.$vm.$root}t["default"]=function(e){return{data:{$root:{}},onLoad:function(t){var n=new a.a(e);this.$vm=n;var o=n.$root;o.__wxExparserNodeId__=this.__wxExparserNodeId__,o.__wxWebviewId__=this.__wxWebviewId__,o.$mp||(o.$mp={});var r=o.$mp;r.mpType="page",r.page=this,r.query=t,r.status="load",n.$mount()},handleProxy:function(e){var t=i(this);return t.$handleProxyWithVue(e)},onShow:function(){var e=i(this),t=e.$mp;t.status="show",r(e,"onShow"),e.$nextTick(function(){e._initDataToMP()})},onReady:function(){var e=i(this),t=e.$mp;t.status="ready",r(e,"onReady")},onHide:function(){var e=i(this),t=e.$mp;t.status="hide",r(e,"onHide")},onUnload:function(){var e=i(this);r(e,"onUnload"),e.$destroy()},onPullDownRefresh:function(){var e=i(this);r(e,"onPullDownRefresh")},onReachBottom:function(){var e=i(this);r(e,"onReachBottom")},onPageScroll:function(e){var t=i(this);r(t,"onPageScroll",e)},onTabItemTap:function(e){var t=i(this);r(t,"onTabItemTap",e)},onShareAppMessage:e.onShareAppMessage?function(e){var t=i(this);return r(t,"onShareAppMessage",e)}:null,onNavigationBarButtonTap:function(e){var t=i(this);r(t,"onNavigationBarButtonTap",e)},onNavigationBarSearchInputChanged:function(e){var t=i(this);r(t,"onNavigationBarSearchInputChanged",e)},onNavigationBarSearchInputConfirmed:function(e){var t=i(this);r(t,"onNavigationBarSearchInputConfirmed",e)},onNavigationBarSearchInputClicked:function(e){var t=i(this);r(t,"onNavigationBarSearchInputClicked",e)},onBackPress:function(e){var t=i(this);return r(t,"onBackPress",e)},$getAppWebview:function(e){return plus.webview.getWebviewById(""+this.__wxWebviewId__)}}}},b786:function(e,t,n){"use strict";n.r(t);var o=n("d2eb"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a},c3c0:function(e,t,n){"use strict";n("1cc5");var o=r(n("b0ce")),a=r(n("e1c7"));function r(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(a.default))},d2eb:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{imageSrc:"",mode:"scaleToFill",title:"AI综合评分",faceValue:83.331,health:30.706}},onLoad:function(){this.imageSrc="../../static/show.jpg",this.faceValue=66,this.health=66},methods:{chooseImage:function(){var t=this;e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){var o=n.tempFilePaths[0],a="MiewUBH3KPni_mgjLpDatN5_9i7Gab4C",r="oAXrUjAp6V3YqLy0aiceLsljGAwiMqWd";e.uploadFile({url:"https://api-cn.faceplusplus.com/facepp/v3/detect",filePath:o,name:"image_file",formData:{api_key:a,api_secret:r,return_attributes:"beauty,skinstatus"},success:function(n){var a=n.data,r=JSON.parse(a);if(null==r.faces)console.log("nonono"),t.faceValue="未发现人脸，请上传脸部照片";else{var i=r.faces[0].attributes.beauty.female_score,c=r.faces[0].attributes.beauty.female_score,s=r.faces[0].attributes.skinstatus.health;r.faces[0].attributes.skinstatus.stain,r.faces[0].attributes.skinstatus.acne,r.faces[0].attributes.skinstatus.dark_circle;console.log(s),e.showToast({title:"上传成功",icon:"success",duration:1e3}),t.imageSrc=o,t.faceValue=(i+c)/2,t.health=s}},fail:function(t){console.log("uploadImage fail",t),e.showModal({content:t.errMsg,showCancel:!1})}})},fail:function(e){console.log("chooseImage fail",e)}})}}};t.default=n}).call(this,n("543d")["default"])},dfe2:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"content"},[n("image",{staticClass:"logo",attrs:{src:e.imageSrc,mode:e.mode}}),n("view",[n("text",{staticClass:"title"},[e._v(e._s(e.title))])]),n("view",[n("text",[e._v(e._s(e.faceValue))])]),e._m(0),n("view",[n("text",[e._v(e._s(e.health))])]),n("view",{staticClass:"uni-padding-wrap uni-common-mt"},[n("button",{attrs:{type:"primary",eventid:"3cb3408d-0"},on:{click:e.chooseImage}},[e._v("上传图片")])],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("text",{staticClass:"title"},[e._v("皮肤健康")])])}];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},e1c7:function(e,t,n){"use strict";n.r(t);var o=n("dfe2"),a=n("b786");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("53e2");var i=n("2877"),c=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},e9fc:function(e,t,n){}},[["c3c0","common/runtime","common/vendor"]]]);